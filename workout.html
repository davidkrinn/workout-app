<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout - Many Rounds</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="center-content">
        <div class="rounded-bg">
            <h1>Workout</h1>
            <p class="workout-subtitle">Let's get to work.</p>
            <div id="workout-recommendation">
                <p id="workout-text">Checking weather...</p>
            </div>
        </div>
    </div>

    <script>
        const API_KEY = '4d2ed66719bf23d11735f61ebe1d5364';
        const CITY = 'Minneapolis';

        async function getWorkoutRecommendation() {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${API_KEY}&units=imperial`
                );
                const data = await response.json();

                const temp = data.main.temp;
                const weatherCondition = data.weather[0].main.toLowerCase();

                let recommendation = '';
                let isIndoor = false;

                if (weatherCondition.includes('rain') ||
                    weatherCondition.includes('snow') ||
                    weatherCondition.includes('drizzle')) {
                    recommendation = 'üè† Good day for indoor workout';
                    isIndoor = true;
                } else if (temp < 50 || temp > 90) {
                    recommendation = 'üè† Good day for indoor workout';
                    isIndoor = true;
                } else {
                    recommendation = 'üå§Ô∏è Good day for outdoor workout';
                    isIndoor = false;
                }

                const workoutText = document.getElementById('workout-text');
                workoutText.textContent = recommendation;

                const container = document.getElementById('workout-recommendation');
                container.className = isIndoor ? 'indoor' : 'outdoor';

            } catch (error) {
                console.error('Error fetching weather:', error);
                document.getElementById('workout-text').textContent = 'Unable to load recommendation';
            }
        }

        getWorkoutRecommendation();
        setInterval(getWorkoutRecommendation, 30 * 60 * 1000);
    </script>
</body>
</html>
